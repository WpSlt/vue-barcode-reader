(function(a,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("@zxing/library"),require("vue")):typeof define=="function"&&define.amd?define(["exports","@zxing/library","vue"],i):(a=typeof globalThis<"u"?globalThis:a||self,i(a.VueBarcodeReader={},a.library,a.Vue))})(this,function(a,i,r){"use strict";const s=(e,t)=>{const o=e.__vccOpts||e;for(const[n,d]of t)o[n]=d;return o},m={name:"image-barcode-reader",data(){return{codeReader:new i.BrowserMultiFormatReader}},methods:{onChangeInput(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return;const o=new FileReader;o.onload=this.processFile,o.readAsDataURL(t[0])},processFile(e){this.$el.innerHTML+=`<img id="image" src="${e.target.result}"/>`,this.codeReader.decodeFromImage("image").then(t=>{this.$emit("decode",t.text),this.$emit("result",t)}).catch(t=>this.$emit("error",t))}}};function l(e,t,o,n,d,v){return null}const p=s(m,[["render",l]]),h=r.defineComponent({name:"stream-barcode-reader",data(){return{isLoading:!0,codeReader:new i.BrowserMultiFormatReader,isMediaStreamAPISupported:navigator&&navigator.mediaDevices&&"enumerateDevices"in navigator.mediaDevices}},mounted(){if(!this.isMediaStreamAPISupported)throw new i.Exception("Media Stream API is not supported");this.start(),this.$refs.scanner.oncanplay=e=>{this.isLoading=!1,this.$emit("loaded")}},beforeUnmount(){this.codeReader.reset()},methods:{start(){this.codeReader.decodeFromVideoDevice(void 0,this.$refs.scanner,(e,t)=>{e&&(this.$emit("decode",e.text),this.$emit("result",e))})}}}),c=e=>(r.pushScopeId("data-v-d01ad009"),e=e(),r.popScopeId(),e),f={class:"scanner-container"},u={poster:"data:image/gif,AAAA",ref:"scanner"},_=c(()=>r.createElementVNode("div",{class:"overlay-element"},null,-1)),g=c(()=>r.createElementVNode("div",{class:"laser"},null,-1));function $(e,t,o,n,d,v){return r.openBlock(),r.createElementBlock("div",f,[r.withDirectives(r.createElementVNode("div",null,[r.createElementVNode("video",u,null,512),_,g],512),[[r.vShow,!e.isLoading]])])}const R=s(h,[["render",$],["__scopeId","data-v-d01ad009"]]);a.ImageBarcodeReader=p,a.StreamBarcodeReader=R,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
