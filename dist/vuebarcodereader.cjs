"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("@zxing/library"),r=require("vue"),d=(e,t)=>{const a=e.__vccOpts||e;for(const[o,s]of t)a[o]=s;return a},m={name:"image-barcode-reader",data(){return{codeReader:new i.BrowserMultiFormatReader}},methods:{onChangeInput(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return;const a=new FileReader;a.onload=this.processFile,a.readAsDataURL(t[0])},processFile(e){this.$el.innerHTML+=`<img id="image" src="${e.target.result}"/>`,this.codeReader.decodeFromImage("image").then(t=>{this.$emit("decode",t.text),this.$emit("result",t)}).catch(t=>this.$emit("error",t))}}};function l(e,t,a,o,s,c){return null}const h=d(m,[["render",l]]),u=r.defineComponent({name:"stream-barcode-reader",data(){return{isLoading:!0,codeReader:new i.BrowserMultiFormatReader,isMediaStreamAPISupported:navigator&&navigator.mediaDevices&&"enumerateDevices"in navigator.mediaDevices}},mounted(){if(!this.isMediaStreamAPISupported)throw new i.Exception("Media Stream API is not supported");this.start(),this.$refs.scanner.oncanplay=e=>{this.isLoading=!1,this.$emit("loaded")}},beforeUnmount(){this.codeReader.reset()},methods:{start(){this.codeReader.decodeFromVideoDevice(void 0,this.$refs.scanner,(e,t)=>{e&&(this.$emit("decode",e.text),this.$emit("result",e))})}}}),n=e=>(r.pushScopeId("data-v-d01ad009"),e=e(),r.popScopeId(),e),p={class:"scanner-container"},_={poster:"data:image/gif,AAAA",ref:"scanner"},f=n(()=>r.createElementVNode("div",{class:"overlay-element"},null,-1)),g=n(()=>r.createElementVNode("div",{class:"laser"},null,-1));function v(e,t,a,o,s,c){return r.openBlock(),r.createElementBlock("div",p,[r.withDirectives(r.createElementVNode("div",null,[r.createElementVNode("video",_,null,512),f,g],512),[[r.vShow,!e.isLoading]])])}const $=d(u,[["render",v],["__scopeId","data-v-d01ad009"]]);exports.ImageBarcodeReader=h;exports.StreamBarcodeReader=$;
